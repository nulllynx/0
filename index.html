<!DOCTYPE html>
<!-- MODIFIED: Removed scroll-smooth default, JS will handle theme -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NullLynx | Cybersecurity Portfolio</title>
    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- 1. Tailwind Configuration -->
    <script>
        tailwind.config = {
            darkMode: 'class', // <-- NEW: Added dark mode strategy
            theme: {
                extend: {
                    colors: {
                        bg: "#0a0f1c", // Deep Navy/Graphite
                        card: "#111827", // Darker Card
                        primary: "#00C2FF", // Teal Accent
                        secondary: "#06E6B3", // Secondary Teal
                        textMain: "#E8EEF3", // Primary Text
                        textMuted: "#97A0AA", // Secondary Text

                        // NEW: Light Mode Colors
                        light: {
                            bg: "#f8f9fa",
                            card: "#ffffff",
                            textMain: "#212529",
                            textMuted: "#5c677d",
                            primary: "#007bff", // Using a standard blue for light mode
                            secondary: "#17a2b8" // Using a standard cyan for light mode
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    animation: {
                        'scroll-left': 'scrollLeft 80s linear infinite',
                        'scroll-right': 'scrollRight 90s linear infinite',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'blink-brackets': 'blink-brackets 1.5s infinite',
                        'text-blink': 'blink 1s step-start infinite',
                    },
                    keyframes: {
                        scrollLeft: {
                            '0%': { transform: 'translateX(0)' },
                            '100%': { transform: 'translateX(-50%)' },
                        },
                        scrollRight: {
                            '0%': { transform: 'translateX(-50%)' },
                            '100%': { transform: 'translateX(0)' },
                        },
                        'blink-brackets': {
                            '0%, 100%': { opacity: '1' },
                            '50%': { opacity: '0.3' },
                        },
                        blink: {
                            '50%': { opacity: '0' },
                        }
                    }
                }
            }
        }
    </script>
    
    <!-- 2. Custom Styles -->
    <style>
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { 
            background: #f1f1f1; /* Light mode track */
        }
        .dark ::-webkit-scrollbar-track {
            background: #0a0f1c; /* Dark mode track */
        }
        ::-webkit-scrollbar-thumb { 
            background: #c1c1c1; 
            border-radius: 4px;
        }
        .dark ::-webkit-scrollbar-thumb {
            background: #1f2937;
        }
        ::-webkit-scrollbar-thumb:hover { background: #00C2FF; }
        
        /* Glassmorphism for Nav */
        .glass {
            /* MODIFIED: Default to light glass */
            background: rgba(248, 249, 250, 0.7); /* light.bg with 70% opacity */
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        .dark .glass {
            background: rgba(10, 15, 28, 0.7); /* dark:bg-bg with 70% opacity */
        }
        
        /* Typing Cursor */
        .typing-cursor::after {
            content: '_';
            animation: text-blink 1s step-start infinite;
        }

        /* Marquee Hover Effects */
        .marquee-container:hover .marquee-content {
            animation-play-state: paused;
        }
        
        .marquee-item {
            transition: all 0.3s ease;
        }
        
        /* Blur other items */
        .marquee-container:hover .marquee-item {
            filter: blur(2px);
            opacity: 0.5;
        }
        
        /* Highlight hovered item */
        .marquee-container:hover .marquee-item:hover {
            filter: blur(0px);
            opacity: 1;
            transform: scale(1.1);
            z-index: 10;
            /* MODIFIED: Use Tailwind variables */
            border-color: theme('colors.light.primary');
            box-shadow: 0 0 15px theme('colors.light.primary / 30%');
        }
        .dark .marquee-container:hover .marquee-item:hover {
            border-color: theme('colors.primary');
            box-shadow: 0 0 15px theme('colors.primary / 30%');
        }

        /* Gradient Button Glow */
        .btn-gradient {
            /* MODIFIED: Light mode gradient */
            background-image: linear-gradient(to right, theme('colors.light.primary'), #0056b3);
            box-shadow: 0 0 20px theme('colors.light.primary / 30%');
            color: white; /* Light mode text is white on gradient */
        }
        .dark .btn-gradient {
            background-image: linear-gradient(to right, theme('colors.primary'), #0099cc);
            box-shadow: 0 0 20px theme('colors.primary / 30%');
            color: theme('colors.textMain');
        }
        .btn-gradient:hover {
            /* MODIFIED: Light mode shadow */
            box-shadow: 0 0 30px theme('colors.light.primary / 50%');
            transform: translateY(-2px);
        }
        .dark .btn-gradient:hover {
            box-shadow: 0 0 30px theme('colors.primary / 50%');
        }

        /* Modal Styles */
        .modal-overlay {
            /* MODIFIED: Light mode overlay */
            background: rgba(248, 249, 250, 0.7); /* light.bg with 70% opacity */
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
        }
        .dark .modal-overlay {
            background: rgba(10, 15, 28, 0.7); /* dark:bg-bg with 70% opacity */
        }

        /* --- Desktop Nav Link Underline Styles --- */
        .nav-link {
            position: relative;
            padding-bottom: 4px; /* Space for underline */
            transition: color 0.3s ease;
        }
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 2px;
            /* MODIFIED: Light mode underline */
            background-color: theme('colors.light.primary');
            transition: width 0.3s ease-in-out;
        }
        .dark .nav-link::after {
            background-color: theme('colors.primary');
        }
        
        /* Active state for normal links */
        .nav-link.nav-active {
            color: theme('colors.light.primary');
        }
        .dark .nav-link.nav-active {
            color: theme('colors.primary');
        }
        .nav-link.nav-active::after {
            width: 100%;
        }
        
        /* Override for hover */
        .nav-link:hover {
             color: theme('colors.light.primary');
        }
        .dark .nav-link:hover {
             color: theme('colors.primary');
        }

        /* Special override for [ENCRYPT] link */
        .nav-link[href="#ENCRYPT"] {
            color: theme('colors.light.secondary');
        }
        .dark .nav-link[href="#ENCRYPT"] {
            color: theme('colors.secondary');
        }
        .nav-link[href="#ENCRYPT"]:hover {
            color: theme('colors.light.textMain');
        }
        .dark .nav-link[href="#ENCRYPT"]:hover {
            color: theme('colors.textMain');
        }
        .nav-link[href="#ENCRYPT"].nav-active {
            color: theme('colors.light.secondary');
        }
        .dark .nav-link[href="#ENCRYPT"].nav-active {
            color: theme('colors.secondary');
        }
        .nav-link[href="#ENCRYPT"].nav-active::after {
            background-color: theme('colors.light.secondary');
        }
        .dark .nav-link[href="#ENCRYPT"].nav-active::after {
            background-color: theme('colors.secondary');
        }
        
        /* --- Mobile Nav Link Styles --- */
        .nav-link-mobile {
            transition: color 0.3s ease, background-color 0.3s ease;
        }
        /* Mobile active state */
        .nav-link-mobile.nav-active {
            color: theme('colors.light.primary') !important;
            background-color: theme('colors.light.primary / 10%');
        }
        .dark .nav-link-mobile.nav-active {
            color: theme('colors.primary') !important;
            background-color: theme('colors.primary / 10%');
        }
        
        /* Special override for [ENCRYPT] link (mobile) */
        .nav-link-mobile[href="#ENCRYPT"] {
            color: theme('colors.light.secondary');
        }
        .dark .nav-link-mobile[href="#ENCRYPT"] {
            color: theme('colors.secondary');
        }
        .nav-link-mobile[href="#ENCRYPT"].nav-active {
            color: theme('colors.light.secondary') !important;
            background-color: theme('colors.light.secondary / 10%');
        }
        .dark .nav-link-mobile[href="#ENCRYPT"].nav-active {
            color: theme('colors.secondary') !important;
            background-color: theme('colors.secondary / 10%');
        }
    </style>
</head>
<!-- MODIFIED: Added light mode classes -->
<body class="bg-light-bg dark:bg-bg text-light-textMain dark:text-textMain selection:bg-primary/30 overflow-x-hidden transition-colors duration-300">

    <!-- NEW: Preloader -->
    <!-- MODIFIED: Added light mode classes -->
    <div id="preloader" class="fixed inset-0 z-[100] flex flex-col items-center justify-center bg-light-bg dark:bg-bg">
        <div class="font-mono text-center">
            <div class="text-4xl animate-blink-brackets text-light-primary dark:text-primary">
                [<span id="loader-text" class="text-light-secondary dark:text-secondary mx-2"></span>]
            </div>
            <p class="mt-4 text-light-primary dark:text-primary animate-pulse" id="loader-status">BOOTING KERNEL...</p>
        </div>
    </div>
    <!-- END Preloader -->

    <!-- 3. NAVIGATION -->
    <!-- MODIFIED: Added light mode border -->
    <nav class="fixed w-full z-50 glass border-b border-gray-200 dark:border-white/10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <!-- Logo -->
                <div class="flex items-center gap-2">
                    <i data-lucide="terminal" class="text-light-primary dark:text-primary w-6 h-6"></i>
                    <!-- MODIFIED: Added light mode text -->
                    <span class="font-bold text-xl tracking-tighter text-light-textMain dark:text-white">null<span class="text-light-primary dark:text-primary">lynx</span></span>
                </div>
                
                <!-- Desktop Menu -->
                <div class="hidden md:flex items-center"> <!-- MODIFIED: Added flex and items-center -->
                    <!-- MODIFIED: Text muted light mode -->
                    <div class="ml-10 flex items-baseline space-x-4 font-mono text-sm uppercase text-light-textMuted dark:text-textMain" id="desktop-nav-links">
                        <a href="#STATUS" class="nav-link px-2 py-1">STATUS</a>
                        <a href="#PROFILE" class="nav-link px-2 py-1">PROFILE</a>
                        <a href="#ANALYSIS" class="nav-link px-2 py-1">ANALYSIS</a>
                        <a href="#ACCOMPLISH" class="nav-link px-2 py-1">ACCOMPLISH</a>
                        <a href="#DOCUMENTS" class="nav-link px-2 py-1">DOCUMENTS</a>
                        <a href="#ACCESS_LOG" class="nav-link px-2 py-1">ACCESS_LOG</a>
                        <a href="#ENCRYPT" class="nav-link px-2 py-1">[ENCRYPT]</a>
                    </div>

                    <!-- NEW: Theme Toggle (Desktop) -->
                    <button id="theme-toggle-desktop" class="ml-4 p-2 rounded-full text-light-textMuted dark:text-textMuted hover:text-light-primary dark:hover:text-primary hover:bg-black/10 dark:hover:bg-white/10">
                        <i data-lucide="sun" class="w-5 h-5 hidden" id="theme-icon-sun-desktop"></i>
                        <i data-lucide="moon" class="w-5 h-5" id="theme-icon-moon-desktop"></i>
                    </button>
                </div>

                <!-- Mobile Menu Button -->
                <!-- MODIFIED: Added flex and items-center -->
                <div class="md:hidden flex items-center">
                    <!-- NEW: Theme Toggle (Mobile) -->
                    <button id="theme-toggle-mobile" class="p-2 rounded-full text-light-textMuted dark:text-textMuted hover:text-light-primary dark:hover:text-primary">
                        <i data-lucide="sun" class="w-5 h-5 hidden" id="theme-icon-sun-mobile"></i>
                        <i data-lucide="moon" class="w-5 h-5" id="theme-icon-moon-mobile"></i>
                    </button>
                    <button id="menu-btn" class="text-light-textMain dark:text-textMain hover:text-light-primary dark:hover:text-primary p-2">
                        <i data-lucide="menu" id="menu-icon-open" class="block h-6 w-6"></i>
                        <i data-lucide="x" id="menu-icon-close" class="hidden h-6 w-6"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Dropdown -->
        <!-- MODIFIED: Added light mode classes -->
        <div id="mobile-menu" class="hidden md:hidden bg-light-card dark:bg-card border-b border-gray-200 dark:border-white/10">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3 font-mono uppercase" id="mobile-nav-links">
                <a href="#STATUS" class="nav-link-mobile block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-white/5 hover:text-light-primary dark:hover:text-primary">STATUS</a>
                <a href="#PROFILE" class="nav-link-mobile block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-white/5 hover:text-light-primary dark:hover:text-primary">PROFILE</a>
                <a href="#ANALYSIS" class="nav-link-mobile block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-white/5 hover:text-light-primary dark:hover:text-primary">ANALYSIS</a>
                <a href="#ACCOMPLISH" class="nav-link-mobile block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-white/5 hover:text-light-primary dark:hover:text-primary">ACCOMPLISH</a>
                <a href="#DOCUMENTS" class="nav-link-mobile block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-white/5 hover:text-light-primary dark:hover:text-primary">DOCUMENTS</a>
                <a href="#ACCESS_LOG" class="nav-link-mobile block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-white/5 hover:text-light-primary dark:hover:text-primary">ACCESS_LOG</a>
                <a href="#ENCRYPT" class="nav-link-mobile block px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-white/5">ENCRYPT TOOL</a>
            </div>
        </div>
    </nav>

    <!-- 4. STATUS SECTION (HERO) -->
    <section id="STATUS" class="pt-32 pb-20 px-4 relative overflow-hidden min-h-screen flex items-center">
        <!-- Background Glow -->
        <!-- MODIFIED: Use light/dark primary/secondary -->
        <div class="absolute top-0 right-0 w-1/2 h-1/2 bg-light-primary/10 dark:bg-primary/10 blur-[100px] rounded-full -z-10"></div>
        <div class="absolute bottom-0 left-0 w-1/2 h-1/2 bg-light-secondary/5 dark:bg-secondary/5 blur-[100px] rounded-full -z-10"></div>

        <!-- MODIFIED: Changed grid layout for mobile -->
        <div class="max-w-7xl mx-auto grid grid-cols-3 md:grid-cols-2 gap-8 md:gap-12 items-center w-full">
            <!-- Left Content -->
            <!-- MODIFIED: Added col-span-2 for mobile -->
            <div class="col-span-2 md:col-span-1 space-y-6 z-10">
                <!-- MODIFIED: Light/dark colors -->
                <div class="inline-flex items-center px-3 py-1 rounded-full bg-light-primary/10 dark:bg-primary/10 border border-light-primary/20 dark:border-primary/20 text-light-primary dark:text-primary text-xs font-mono tracking-wider">
                    <span class="w-2 h-2 rounded-full bg-light-primary dark:bg-primary mr-2 animate-pulse"></span>
                    STATUS: ONLINE
                </div>
                <!-- MODIFIED: Adjusted text size for mobile -->
                <h1 class="text-4xl sm:text-5xl md:text-7xl font-bold leading-tight text-light-textMain dark:text-white">
                    Asanul Hoque <br />
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-light-primary to-light-secondary dark:from-primary dark:to-secondary">Esan</span>
                </h1>
                <!-- MODIFIED: Adjusted text size for mobile -->
                <div class="h-8 text-lg sm:text-xl md:text-2xl font-mono text-light-textMuted dark:text-textMuted">
                    &gt; <span id="typing-text" class="typing-cursor"></span>
                </div>
                <p class="text-base md:text-lg text-light-textMuted dark:text-textMuted max-w-lg leading-relaxed">
                    Securing digital infrastructures through advanced penetration testing, ethical hacking, and strategic vulnerability assessment.
                </p>
                <div class="flex flex-wrap gap-4 pt-4">
                    <a href="#ENCRYPT" class="btn-gradient px-6 py-3 md:px-8 text-sm md:text-base rounded-lg font-bold transition-all text-center">
                        Initiate Contact
                    </a>
                    <!-- MODIFIED: Light/dark button -->
                    <a href="#DOCUMENTS" class="px-6 py-3 md:px-8 text-sm md:text-base border border-light-textMain/20 dark:border-white/20 text-light-textMain dark:text-white rounded-lg font-bold hover:bg-black/5 dark:hover:bg-white/5 transition-all text-center">
                        View Reports
                    </a>
                </div>
            </div>

            <!-- Right Content (Image) -->
            <!-- MODIFIED: Added col-span-1 for mobile -->
            <div class="col-span-1 md:col-span-1 relative z-10 flex justify-center">
                <!-- MODIFIED: Light/dark border and overlay -->
                <div class="relative w-full aspect-[3/4] rounded-2xl overflow-hidden border border-gray-200 dark:border-white/10 group shadow-2xl">
                    <div class="absolute inset-0 bg-gradient-to-b from-transparent to-light-bg/90 dark:to-bg/90 z-10"></div>
                    <!-- 
                        #####################################################
                        MODIFIED: Image src changed to user-uploaded photo.jpg
                        #####################################################
                    -->
                    <img src="photo.jpg" 
                         alt="Asanul Hoque Esan" 
                         onerror="this.src='https://placehold.co/400x600/111827/E8EEF3?text=A.H.E.'"
                         class="w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-500">
                    
                    <div class="absolute bottom-0 left-0 w-full p-2 md:p-6 z-30">
                        <div class="flex items-center justify-between border-t border-gray-400 dark:border-white/20 pt-2 md:pt-4">
                            <span class="text-[10px] md:text-xs font-mono text-light-primary dark:text-primary">ID: NULLLYNX</span>
                            <i data-lucide="shield-check" class="text-light-secondary dark:text-secondary w-3 h-3 md:w-4 md:h-4"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 5. PROFILE SECTION -->
    <!-- MODIFIED: Light/dark classes -->
    <section id="PROFILE" class="py-24 bg-light-card/50 dark:bg-card/50 border-y border-gray-200 dark:border-white/5">
        <div class="max-w-7xl mx-auto px-4 grid md:grid-cols-12 gap-12 items-center">
            <!-- Left: Bio -->
            <div class="md:col-span-7">
                <h2 class="text-3xl md:text-4xl font-bold mb-6 text-light-textMain dark:text-white"><span class="text-light-primary dark:text-primary">//</span> PROFILE</h2>
                <div class="space-y-4 text-light-textMuted dark:text-textMuted text-lg leading-relaxed">
                    <p>
                        Highly-motivated Cybersecurity Analyst with 3+ years of experience in offensive security, vulnerability assessment, and web application penetration testing.
                    </p>
                    <p>
                        My approach combines deep technical expertise with a creative, hacker-centric mindset to identify and mitigate critical vulnerabilities before they can be exploited by malicious actors.
                    </p>
                    <p>
                        I am passionate about building secure systems and thrive in fast-paced environments, constantly adapting to the evolving threat landscape.
                    </p>
                </div>
                 <div class="flex flex-wrap gap-4 mt-8">
                    <a href="#DOCUMENTS" class="inline-flex items-center gap-2 px-6 py-3 bg-black/5 dark:bg-white/5 border border-black/10 dark:border-white/10 rounded-lg hover:bg-black/10 dark:hover:bg-white/10 transition-all font-bold">
                        <i data-lucide="download" class="w-4 h-4"></i> Download Resume
                    </a>
                    <button data-modal-target="about-me-full" class="inline-flex items-center gap-2 px-6 py-3 btn-gradient text-white rounded-lg font-bold transition-all">
                        <i data-lucide="user" class="w-4 h-4"></i> Read Full Bio
                    </button>
                 </div>
            </div>
            <!-- Right: Stats -->
            <div class="md:col-span-5 flex flex-col gap-6">
                <div class="text-center p-6 bg-light-bg dark:bg-bg border border-gray-200 dark:border-white/5 rounded-xl shadow-lg">
                    <h3 class="text-5xl font-bold text-light-textMain dark:text-white" id="count-vuln">0+</h3>
                    <p class="text-sm text-light-primary dark:text-primary font-mono mt-2">CRITICAL VULNERABILITIES FOUND</p>
                </div>
                <div class="text-center p-6 bg-light-bg dark:bg-bg border border-gray-200 dark:border-white/5 rounded-xl shadow-lg">
                    <h3 class="text-5xl font-bold text-light-textMain dark:text-white" id="count-client">0+</h3>
                    <p class="text-sm text-light-primary dark:text-primary font-mono mt-2">CLIENTS & PROJECTS</p>
                </div>
                <div class="text-center p-6 bg-light-bg dark:bg-bg border border-gray-200 dark:border-white/5 rounded-xl shadow-lg">
                    <h3 class="text-5xl font-bold text-light-textMain dark:text-white" id="count-rate">0%</h3>
                    <p class="text-sm text-light-primary dark:text-primary font-mono mt-2">SUCCESS RATE</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 6. ANALYSIS & EXPERTISE (MARQUEE) -->
    <section id="ANALYSIS" class="py-24 overflow-hidden">
        <div class="text-center mb-16">
            <h2 class="text-3xl md:text-4xl font-bold text-light-textMain dark:text-white"><span class="text-light-secondary dark:text-secondary">//</span> ANALYSIS & EXPERTISE</h2>
            <p class="text-light-textMuted dark:text-textMuted uppercase tracking-widest text-sm mt-2">TOOLS / VULNERABILITIES / AREAS</p>
        </div>

        <!-- Row 1: Tools (Right to Left) -->
        <div class="mb-12">
            <p class="max-w-7xl mx-auto px-4 mb-2 text-sm font-mono text-light-secondary dark:text-secondary">TOOLS_I_KNOW</p>
            <div class="marquee-container relative w-full overflow-hidden py-4 bg-black/5 dark:bg-white/5 border-y border-gray-200 dark:border-white/5">
                <div class="marquee-content flex gap-4 w-max animate-scroll-left pl-4" id="tools-marquee">
                    <!-- JS will inject items here -->
                </div>
            </div>
        </div>

        <!-- Row 2: Vulns (Left to Right) -->
        <div class="mb-12">
            <p class="max-w-7xl mx-auto px-4 mb-2 text-sm font-mono text-light-primary dark:text-primary text-right">KNOWN_VULNERABILITIES</p>
            <div class="marquee-container relative w-full overflow-hidden py-4 bg-black/5 dark:bg-white/5 border-y border-gray-200 dark:border-white/5">
                <div class="marquee-content flex gap-4 w-max animate-scroll-right pl-4" id="vuln-marquee">
                    <!-- JS will inject items here -->
                </div>
            </div>
        </div>

        <!-- Row 3: Expertise (Grid Layout) -->
        <div>
            <p class="max-w-7xl mx-auto px-4 mb-4 text-sm font-mono text-light-secondary dark:text-secondary">KEY EXPERTISE AREAS</p>
            <div id="expertise-grid" class="max-w-7xl mx-auto px-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- JS will inject expertise cards here -->
            </div>
        </div>
    </section>

    <!-- 7. PLATFORM ACCOMPLISHMENTS -->
    <!-- MODIFIED: Light/dark classes -->
    <section id="ACCOMPLISH" class="py-24 bg-light-card/30 dark:bg-card/30 border-y border-gray-200 dark:border-white/5">
        <div class="max-w-7xl mx-auto px-4">
            <h2 class="text-3xl md:text-4xl font-bold mb-16 text-center text-light-textMain dark:text-white"><span class="text-light-primary dark:text-primary">//</span> PLATFORM ACCOMPLISHMENTS</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-5 gap-6 items-center" id="platforms-grid">
                <!-- Card 1 -->
                <a data-modal-target="platform-hackerone" class="p-6 bg-light-card dark:bg-bg border border-gray-200 dark:border-white/10 rounded-xl text-center hover:border-light-primary/50 dark:hover:border-primary/50 hover:-translate-y-2 transition-all duration-300 shadow-lg h-full cursor-pointer">
                    <i data-lucide="shield" class="w-10 h-10 text-light-primary dark:text-primary mx-auto mb-4"></i>
                    <h3 class="font-bold text-light-textMain dark:text-white text-lg">HackerOne</h3>
                    <p class="text-light-secondary dark:text-secondary text-sm font-mono mt-1">Top 1%</p>
                </a>
                <!-- Card 2 -->
                 <a data-modal-target="platform-bugcrowd" class="p-6 bg-light-card dark:bg-bg border border-gray-200 dark:border-white/10 rounded-xl text-center hover:border-light-primary/50 dark:hover:border-primary/50 hover:-translate-y-2 transition-all duration-300 shadow-lg h-full cursor-pointer">
                    <i data-lucide="bug" class="w-10 h-10 text-light-primary dark:text-primary mx-auto mb-4"></i>
                    <h3 class="font-bold text-light-textMain dark:text-white text-lg">Bugcrowd</h3>
                    <p class="text-light-secondary dark:text-secondary text-sm font-mono mt-1">Top 50</p>
                </a>
                <!-- Card 3 (Center Big) -->
                 <a data-modal-target="platform-htb" class="p-8 bg-light-card dark:bg-bg border border-light-primary/50 dark:border-primary/50 shadow-[0_0_40px_rgba(0,194,255,0.2)] rounded-xl text-center transform md:scale-110 z-10 hover:-translate-y-2 transition-all duration-300 h-full cursor-pointer">
                    <i data-lucide="cpu" class="w-12 h-12 text-light-primary dark:text-primary mx-auto mb-4"></i>
                    <h3 class="font-bold text-light-textMain dark:text-white text-xl">HackTheBox</h3>
                    <p class="text-light-secondary dark:text-secondary font-mono text-lg mt-1">PRO HACKER</p>
                    <p class="text-xs text-light-textMuted dark:text-textMuted mt-2">Rank: Guru</p>
                </a>
                <!-- Card 4 -->
                 <a data-modal-target="platform-thm" class="p-6 bg-light-card dark:bg-bg border border-gray-200 dark:border-white/10 rounded-xl text-center hover:border-light-primary/50 dark:hover:border-primary/50 hover:-translate-y-2 transition-all duration-300 shadow-lg h-full cursor-pointer">
                    <i data-lucide="terminal-square" class="w-10 h-10 text-light-primary dark:text-primary mx-auto mb-4"></i>
                    <h3 class="font-bold text-light-textMain dark:text-white text-lg">TryHackMe</h3>
                    <p class="text-light-secondary dark:text-secondary text-sm font-mono mt-1">Top 1%</p>
                </a>
                <!-- Card 5 -->
                 <a data-modal-target="platform-portswigger" class="p-6 bg-light-card dark:bg-bg border border-gray-200 dark:border-white/10 rounded-xl text-center hover:border-light-primary/50 dark:hover:border-primary/50 hover:-translate-y-2 transition-all duration-300 shadow-lg h-full cursor-pointer">
                    <i data-lucide="database" class="w-10 h-10 text-light-primary dark:text-primary mx-auto mb-4"></i>
                    <h3 class="font-bold text-light-textMain dark:text-white text-lg">PortSwigger</h3>
                    <p class="text-light-secondary dark:text-secondary text-sm font-mono mt-1">Certified</p>
                </a>
            </div>

            <!-- Container for dynamically loaded platforms -->
            <div id="more-platforms-grid" class="hidden grid grid-cols-1 md:grid-cols-5 gap-6 items-center mt-6">
                <!-- JS will inject more platforms here -->
            </div>

            <div class="text-center mt-12">
                 <button id="platform-toggle-btn" data-state="more" class="text-sm font-mono text-light-textMuted dark:text-textMuted hover:text-light-textMain dark:hover:text-white underline decoration-light-primary/50 dark:decoration-primary/50 underline-offset-4">
                    See More (45+)
                 </button>
            </div>
        </div>
    </section>

    <!-- 8. DOCUMENTS & REPORTS -->
    <section id="DOCUMENTS" class="py-24">
        <div class="max-w-7xl mx-auto px-4">
            <h2 class="text-3xl md:text-4xl font-bold mb-16 text-center text-light-textMain dark:text-white"><span class="text-light-secondary dark:text-secondary">//</span> DOCUMENTS & REPORTS</h2>
            
            <!-- Certifications -->
            <h3 class="text-xl font-bold text-light-textMain dark:text-white mb-6 flex items-center gap-2">
              <i data-lucide="award" class="text-light-secondary dark:text-secondary"></i> TOP CERTIFICATIONS
            </h3>
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-12 group/grid">
                <!-- Cert 1 -->
                <div data-modal-target="cert-oscp" class="p-6 rounded-lg border border-gray-200 dark:border-white/10 bg-light-card dark:bg-card transition-all duration-300 group-hover/grid:blur-[1px] hover:!blur-none hover:!scale-105 hover:border-light-secondary/50 dark:hover:border-secondary/50 cursor-pointer shadow-lg">
                    <i data-lucide="award" class="text-light-secondary dark:text-secondary mb-3 w-8 h-8"></i>
                    <h3 class="font-bold text-light-textMain dark:text-white text-sm">OSCP</h3>
                    <p class="text-xs text-light-textMuted dark:text-textMuted mt-1">Offensive Security</p>
                </div>
                <!-- Cert 2 -->
                <div data-modal-target="cert-ceh" class="p-6 rounded-lg border border-gray-200 dark:border-white/10 bg-light-card dark:bg-card transition-all duration-300 group-hover/grid:blur-[1px] hover:!blur-none hover:!scale-105 hover:border-light-secondary/50 dark:hover:border-secondary/50 cursor-pointer shadow-lg">
                    <i data-lucide="award" class="text-light-secondary dark:text-secondary mb-3 w-8 h-8"></i>
                    <h3 class="font-bold text-light-textMain dark:text-white text-sm">CEH (Practical)</h3>
                    <p class="text-xs text-light-textMuted dark:text-textMuted mt-1">EC-Council</p>
                </div>
                <!-- Cert 3 -->
                <div data-modal-target="cert-ejpt" class="p-6 rounded-lg border border-gray-200 dark:border-white/10 bg-light-card dark:bg-card transition-all duration-300 group-hover/grid:blur-[1px] hover:!blur-none hover:!scale-105 hover:border-light-secondary/50 dark:hover:border-secondary/50 cursor-pointer shadow-lg">
                    <i data-lucide="award" class="text-light-secondary dark:text-secondary mb-3 w-8 h-8"></i>
                    <h3 class="font-bold text-light-textMain dark:text-white text-sm">eJPT</h3>
                    <p class="text-xs text-light-textMuted dark:text-textMuted mt-1">eLearnSecurity</p>
                </div>
                <!-- Cert 4 -->
                <div data-modal-target="cert-secplus" class="p-6 rounded-lg border border-gray-200 dark:border-white/10 bg-light-card dark:bg-card transition-all duration-300 group-hover/grid:blur-[1px] hover:!blur-none hover:!scale-105 hover:border-light-secondary/50 dark:hover:border-secondary/50 cursor-pointer shadow-lg">
                    <i data-lucide="award" class="text-light-secondary dark:text-secondary mb-3 w-8 h-8"></i>
                    <h3 class="font-bold text-light-textMain dark:text-white text-sm">Security+</h3>
                    <p class="text-xs text-light-textMuted dark:text-textMuted mt-1">CompTIA</p>
                </div>
                <!-- Cert 5 (See More) -->
                <div id="see-all-certs-btn" class="p-6 rounded-lg border border-dashed border-gray-300 dark:border-white/20 bg-light-card/50 dark:bg-card/50 text-light-textMuted dark:text-textMuted transition-all duration-300 hover:border-light-secondary dark:hover:border-secondary hover:text-light-secondary dark:hover:text-secondary cursor-pointer flex flex-col items-center justify-center text-center">
                    <i data-lucide="plus-circle" class="w-8 h-8 mb-2"></i>
                    <h3 class="font-bold text-sm">See More</h3>
                    <p class="text-xs mt-1">(40+)</p>
                </div>
            </div>

            <!-- Reports -->
            <h3 class="text-xl font-bold text-light-textMain dark:text-white mb-6 flex items-center gap-2 border-t border-gray-200 dark:border-white/10 pt-12">
              <i data-lucide="file-text" class="text-light-primary dark:text-primary"></i> VULNERABILITY REPORTS
            </h3>
            <div class="marquee-container relative w-full overflow-hidden py-4 bg-black/5 dark:bg-white/5 border-y border-gray-200 dark:border-white/5">
                <div class="marquee-content flex gap-4 w-max animate-scroll-left pl-4" id="reports-marquee">
                    <!-- JS will inject items here -->
                </div>
            </div>
        </div>
    </section>

    <!-- 9. ACCESS LOG (TABLE) -->
    <!-- MODIFIED: Light/dark classes -->
    <section id="ACCESS_LOG" class="py-24 bg-light-card/30 dark:bg-card/30 border-y border-gray-200 dark:border-white/5">
        <div class="max-w-5xl mx-auto px-4">
            <h2 class="text-3xl md:text-4xl font-bold mb-12 text-center text-light-textMain dark:text-white"><span class="text-light-primary dark:text-primary">//</span> ACCESS LOG</h2>
            
            <div class="overflow-hidden rounded-xl border border-gray-200 dark:border-white/10 bg-light-card dark:bg-bg shadow-2xl">
                <table class="w-full text-left text-sm text-light-textMuted dark:text-textMuted">
                    <thead class="bg-gray-100 dark:bg-card text-xs uppercase font-mono text-light-primary dark:text-primary">
                        <tr>
                            <th class="px-6 py-4">Timestamp</th>
                            <th class="px-6 py-4">Action</th>
                            <th class="px-6 py-4 hidden sm:table-cell">Target/Ref</th>
                            <th class="px-6 py-4 text-right">Status</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200 dark:divide-white/5 font-mono">
                        <tr class="hover:bg-gray-50 dark:hover:bg-white/5 transition-colors">
                            <td class="px-6 py-4">2025-11-17 10:30</td>
                            <td class="px-6 py-4 text-light-textMain dark:text-white">Vulnerability Found</td>
                            <td class="px-6 py-4 hidden sm:table-cell">Client A [Banking]</td>
                            <td class="px-6 py-4 text-right"><span class="px-2 py-1 bg-red-500/10 dark:bg-red-500/20 text-red-600 dark:text-red-400 rounded text-xs">CRITICAL</span></td>
                        </tr>
                        <tr class="hover:bg-gray-50 dark:hover:bg-white/5 transition-colors">
                            <td class="px-6 py-4">2025-11-16 14:20</td>
                            <td class="px-6 py-4 text-light-textMain dark:text-white">CTF Completed</td>
                            <td class="px-6 py-4 hidden sm:table-cell">HackTheBox (Insane)</td>
                            <td class="px-6 py-4 text-right"><span class="px-2 py-1 bg-green-500/10 dark:bg-green-500/20 text-green-600 dark:text-green-400 rounded text-xs">SOLVED</span></td>
                        </tr>
                        <tr class="hover:bg-gray-50 dark:hover:bg-white/5 transition-colors">
                            <td class="px-6 py-4">2025-11-15 09:00</td>
                            <td class="px-6 py-4 text-light-textMain dark:text-white">System Audit</td>
                            <td class="px-6 py-4 hidden sm:table-cell">Internal Network</td>
                            <td class="px-6 py-4 text-right"><span class="px-2 py-1 bg-blue-500/10 dark:bg-primary/20 text-blue-600 dark:text-primary rounded text-xs">SECURE</span></td>
                        </tr>
                        <tr class="hover:bg-gray-50 dark:hover:bg-white/5 transition-colors">
                            <td class="px-6 py-4">2025-11-14 18:45</td>
                            <td class="px-6 py-4 text-light-textMain dark:text-white">Report Submitted</td>
                            <td class="px-6 py-4 hidden sm:table-cell">HackerOne</td>
                            <td class="px-6 py-4 text-right"><span class="px-2 py-1 bg-yellow-500/10 dark:bg-yellow-500/20 text-yellow-600 dark:text-yellow-400 rounded text-xs">TRIAGED</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="text-center mt-8">
                 <button id="see-all-logs-btn" class="text-sm font-mono text-light-textMuted dark:text-textMuted hover:text-light-textMain dark:hover:text-white underline decoration-light-primary/50 dark:decoration-primary/50 underline-offset-4">
                    See All Activity (100+)
                 </button>
            </div>
        </div>
    </section>

    <!-- 10. ENCRYPTION TOOL -->
    <section id="ENCRYPT" class="py-24">
        <div class="max-w-6xl mx-auto px-4">
            <div class="mb-12 text-center">
                <h2 class="text-3xl md:text-4xl font-bold text-light-textMain dark:text-white"><span class="text-light-primary dark:text-primary">//</span> ENCRYPT / DECRYPT</h2>
                <p class="text-light-textMuted dark:text-textMuted uppercase tracking-widest text-sm mt-2">SECURE TOOLS SUITE</p>
            </div>

            <!-- MODIFIED: Light/dark classes -->
            <div class="grid md:grid-cols-12 gap-8 bg-light-card dark:bg-card rounded-2xl border border-gray-200 dark:border-white/10 overflow-hidden shadow-2xl">
                <!-- Sidebar -->
                <div class="md:col-span-3 bg-light-bg dark:bg-bg border-r border-gray-200 dark:border-white/10 p-4 max-h-[500px] overflow-y-auto" id="algo-list">
                    <h3 class="text-light-textMuted dark:text-textMuted text-xs font-mono uppercase mb-4 pl-2">Algorithms (20)</h3>
                    <!-- JS will inject algo buttons here -->
                </div>

                <!-- Tool -->
                <div class="md:col-span-9 p-8">
                    <div class="flex flex-col sm:flex-row justify-between sm:items-center mb-6 gap-4">
                        <h3 class="text-2xl font-bold text-light-textMain dark:text-white flex items-center gap-3">
                            <i data-lucide="lock" class="text-light-secondary dark:text-secondary w-6 h-6"></i> <span id="current-algo-name">Base64</span> Processor
                        </h3>
                        <div class="flex gap-2 text-xs font-mono text-light-textMuted dark:text-textMuted">
                            <span class="px-2 py-1 border border-gray-300 dark:border-white/10 rounded">KEY: AES-256</span>
                            <span class="px-2 py-1 border border-gray-300 dark:border-white/10 rounded">MODE: GCM</span>
                        </div>
                    </div>

                    <div class="grid gap-6">
                        <div>
                            <label for="crypto-input" class="text-sm text-light-textMuted dark:text-textMuted uppercase tracking-wider">Input Payload</label>
                            <textarea id="crypto-input" class="w-full h-32 bg-light-bg dark:bg-bg border border-gray-200 dark:border-white/10 rounded-lg p-4 text-light-textMain dark:text-white font-mono focus:border-light-primary dark:focus:border-primary outline-none mt-2 transition-colors" placeholder="Enter text to process..."></textarea>
                        </div>

                        <div class="flex justify-center gap-4">
                            <button onclick="processCrypto(false)" class="px-8 py-3 btn-gradient text-white font-bold rounded-lg transition-all flex items-center gap-2">
                                <i data-lucide="lock" class="w-4 h-4"></i> ENCRYPT
                            </button>
                            <button onclick="processCrypto(true)" class="px-8 py-3 bg-black/5 dark:bg-white/10 border border-black/10 dark:border-white/20 text-light-textMain dark:text-white font-bold rounded-lg hover:bg-black/10 dark:hover:bg-white/20 transition-all flex items-center gap-2">
                                <i data-lucide="unlock" class="w-4 h-4"></i> DECRYPT
                            </button>
                        </div>

                        <div>
                            <label for="crypto-output" class="text-sm text-light-textMuted dark:text-textMuted uppercase tracking-wider flex justify-between">
                                <span>Output Result</span>
                                <span class="text-xs text-green-600 dark:text-green-400 hidden" id="success-msg">STATUS: SUCCESS</span>
                            </label>
                            <div class="relative mt-2">
                                <textarea id="crypto-output" readonly class="w-full h-32 bg-light-bg dark:bg-bg border border-gray-200 dark:border-white/10 rounded-lg p-4 text-light-secondary dark:text-secondary font-mono outline-none" placeholder="Output will appear here..."></textarea>
                                <button onclick="copyOutput()" class="absolute top-4 right-4 p-2 bg-light-card dark:bg-card border border-gray-200 dark:border-white/10 rounded hover:bg-gray-200 dark:hover:bg-white/20 text-light-textMain dark:text-white transition-colors" title="Copy Output">
                                    <i data-lucide="copy" class="w-4 h-4"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 11. FOOTER -->
    <!-- MODIFIED: Light/dark classes -->
    <footer class="bg-gray-100 dark:bg-[#05080f] border-t border-gray-200 dark:border-white/5 pt-16 pb-8">
        <div class="max-w-7xl mx-auto px-4">
            <div class="grid md:grid-cols-3 gap-12 mb-12">
                <!-- Left: Brand & Socials -->
                <div class="md:col-span-1">
                    <div class="flex items-center gap-2 mb-4">
                        <i data-lucide="terminal" class="text-light-primary dark:text-primary w-8 h-8"></i>
                        <span class="font-bold text-3xl tracking-tighter text-light-textMain dark:text-white">null<span class="text-light-primary dark:text-primary">lynx</span></span>
                    </div>
                    <p class="text-light-textMuted dark:text-textMuted max-w-md mb-6">
                        Professional cybersecurity services, vulnerability assessment, and ethical hacking solutions.
                    </p>
                    <div class="flex gap-4 flex-wrap">
                        <a href="#" class="p-3 bg-gray-200 dark:bg-card rounded-lg text-light-textMuted dark:text-textMuted hover:bg-light-primary dark:hover:bg-primary hover:text-white transition-all"><i data-lucide="github" class="w-5 h-5"></i></a>
                        <a href="#" class="p-3 bg-gray-200 dark:bg-card rounded-lg text-light-textMuted dark:text-textMuted hover:bg-light-primary dark:hover:bg-primary hover:text-white transition-all"><i data-lucide="linkedin" class="w-5 h-5"></i></a>
                        <a href="#" class="p-3 bg-gray-200 dark:bg-card rounded-lg text-light-textMuted dark:text-textMuted hover:bg-light-primary dark:hover:bg-primary hover:text-white transition-all"><i data-lucide="twitter" class="w-5 h-5"></i></a>
                        <a href="#" class="p-3 bg-gray-200 dark:bg-card rounded-lg text-light-textMuted dark:text-textMuted hover:bg-light-primary dark:hover:bg-primary hover:text-white transition-all" title="HackerOne"><i data-lucide="shield" class="w-5 h-5"></i></a>
                        <a href="#" class="p-3 bg-gray-200 dark:bg-card rounded-lg text-light-textMuted dark:text-textMuted hover:bg-light-primary dark:hover:bg-primary hover:text-white transition-all" title="Bugcrowd"><i data-lucide="bug" class="w-5 h-5"></i></a>
                        <a href="#" class="p-3 bg-gray-200 dark:bg-card rounded-lg text-light-textMuted dark:text-textMuted hover:bg-light-primary dark:hover:bg-primary hover:text-white transition-all" title="HackTheBox"><i data-lucide="cpu" class="w-5 h-5"></i></a>
                        <a href="#" class="p-3 bg-gray-200 dark:bg-card rounded-lg text-light-textMMuted dark:text-textMuted hover:bg-light-primary dark:hover:bg-primary hover:text-white transition-all" title="TryHackMe"><i data-lucide="terminal-square" class="w-5 h-5"></i></a>
                        <a href="#" class="p-3 bg-gray-200 dark:bg-card rounded-lg text-light-textMuted dark:text-textMuted hover:bg-light-primary dark:hover:bg-primary hover:text-white transition-all" title="GitLab"><i data-lucide="gitlab" class="w-5 h-5"></i></a>
                        <a href="#" class="p-3 bg-gray-200 dark:bg-card rounded-lg text-light-textMuted dark:text-textMuted hover:bg-light-primary dark:hover:bg-primary hover:text-white transition-all" title="Medium"><i data-lucide="book-open" class="w-5 h-5"></i></a>
                        <a href="#" class="p-3 bg-gray-200 dark:bg-card rounded-lg text-light-textMuted dark:text-textMuted hover:bg-light-primary dark:hover:bg-primary hover:text-white transition-all" title="Facebook"><i data-lucide="facebook" class="w-5 h-5"></i></a>
                    </div>
                </div>
                
                <!-- Right: Contact -->
                <div class="md:col-span-2">
                    <h4 class="text-light-textMain dark:text-white font-bold text-lg mb-4">CONTACT / ACCESS</h4>
                     <div class="grid grid-cols-1 sm:grid-cols-2 gap-8">
                        <ul class="space-y-3 text-light-textMuted dark:text-textMuted font-mono text-sm">
                            <li class="flex items-center gap-2"><i data-lucide="mail" class="w-4 h-4 text-light-primary dark:text-primary"></i> contact@asanul.com</li>
                            <li class="flex items-center gap-2"><i data-lucide="mail" class="w-4 h-4 text-light-primary dark:text-primary"></i> security@asanul.com</li>
                            <li class="flex items-center gap-2"><i data-lucide="phone" class="w-4 h-4 text-light-primary dark:text-primary"></i> +880 1XXX-XXXXXX (WhatsApp)</li>
                        </ul>
                         <ul class="space-y-3 text-light-textMuted dark:text-textMuted font-mono text-sm">
                            <li class="flex items-center gap-2"><i data-lucide="map-pin" class="w-4 h-4 text-light-secondary dark:text-secondary"></i> Dhaka, Bangladesh</li>
                            <li class="flex items-center gap-2"><i data-lucide="clock" class="w-4 h-4 text-light-secondary dark:text-secondary"></i> GMT +6 (Available 9 AM - 6 PM)</li>
                            <li class="flex items-center gap-2"><i data-lucide="key" class="w-4 h-4 text-light-secondary dark:text-secondary"></i> PGP KEY: 0x4A1B...9F</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-gray-200 dark:border-white/5 pt-8 text-center">
                <p class="text-gray-500 dark:text-[#565d6d] text-xs font-mono">
                     <span id="current-year">2025</span> ASANUL HOQUE ESAN. ALL RIGHTS RESERVED.
                </body
            </div>
        </div>
    </footer>

    <!-- 12. MODAL STRUCTURE -->
    <!-- MODIFIED: Light/dark classes -->
    <div id="modal-container" class="fixed inset-0 z-50 flex items-center justify-center p-4 hidden">
        <!-- Overlay -->
        <div id="modal-overlay" class="modal-overlay fixed inset-0"></div>
        
        <!-- Modal Panel -->
        <div id="modal-panel" class="relative z-10 w-full max-w-xl bg-light-card dark:bg-card border border-gray-200 dark:border-white/10 rounded-2xl shadow-2xl overflow-hidden transform transition-all">
            <!-- Header -->
            <div class="flex items-center justify-between p-6 border-b border-gray-200 dark:border-white/10">
                <h3 id="modal-title" class="text-2xl font-bold text-light-textMain dark:text-white">Modal Title</h3>
                <button id="modal-close-btn" class="text-light-textMuted dark:text-textMuted hover:text-light-textMain dark:hover:text-white">
                    <i data-lucide="x" class="w-6 h-6"></i>
                </button>
            </div>
            
            <!-- Content -->
            <div id="modal-content" class="p-6 max-h-[60vh] overflow-y-auto text-light-textMuted dark:text-textMuted space-y-4">
                <!-- Content injected by JS -->
                <p>This is the modal content.</p>
            </div>
            
            <!-- Footer (for links or pagination) -->
            <div id="modal-footer" class="p-6 bg-light-bg dark:bg-bg border-t border-gray-200 dark:border-white/10 flex justify-between items-center">
                <a id="modal-link" href="#" target="_blank" class="hidden btn-gradient px-6 py-2 text-white rounded-lg font-bold text-sm transition-all">
                    Learn More
                </a>
                <!-- Pagination for Logs -->
                <div id="modal-pagination" class="hidden w-full flex justify-between items-center text-sm font-mono">
                    <button id="log-prev-btn" class="px-4 py-2 bg-black/5 dark:bg-white/10 border border-black/10 dark:border-white/20 rounded hover:bg-black/10 dark:hover:bg-white/20 transition-all">Previous</button>
                    <span id="log-page-info">Page 1 of 10</span>
                    <button id="log-next-btn" class="px-4 py-2 bg-black/5 dark:bg-white/10 border border-black/10 dark:border-white/20 rounded hover:bg-black/10 dark:hover:bg-white/20 transition-all">Next</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 13. JAVASCRIPT LOGIC -->
    <script>
        // --- 0. DEBOUNCE UTILITY ---
        function debounce(func, wait) {
            let timeout;
            return function(...args) {
                const context = this;
                clearTimeout(timeout);
                timeout = setTimeout(() => func.apply(context, args), wait);
            };
        }

        // --- 1. ICONS ---
        lucide.createIcons();
        document.getElementById('current-year').innerText = new Date().getFullYear();

        // --- 1.5 NEW: PRELOADER LOGIC ---
        const preloader = document.getElementById('preloader');
        const loaderStatus = document.getElementById('loader-status');
        const loaderText = document.getElementById('loader-text');
        const statuses = ["BOOTING KERNEL...", "LOADING MODULES...", "DECRYPTING... [OK]", "ACCESS GRANTED"];
        let statusIndex = 0;

        if (preloader) {
            const statusInterval = setInterval(() => {
                statusIndex++;
                if (statusIndex < statuses.length) {
                    if (loaderStatus) loaderStatus.innerText = statuses[statusIndex];
                } else {
                    clearInterval(statusInterval);
                    // Once all statuses are shown, fade out
                    preloader.classList.add('transition-all', 'duration-500', 'opacity-0');
                    setTimeout(() => {
                        preloader.classList.add('hidden');
                    }, 500); // Hide after fade
                }
            }, 800); // Change status every 0.8 seconds

            // Typing effect for the span
            let textContent = "_";
            const typingInterval = setInterval(() => {
                if (statusIndex >= statuses.length - 1) { // Stop when "ACCESS GRANTED" is set
                    clearInterval(typingInterval);
                    if (loaderText) loaderText.innerText = "NULLLYNX_OS";
                    return;
                }
                textContent = textContent.length < 10 ? textContent + "=" : "=======";
                if (loaderText) loaderText.innerText = textContent;
            }, 150);
        }
        
        // --- 1.8 NEW: THEME TOGGLE LOGIC ---
        const themeToggleDesktop = document.getElementById('theme-toggle-desktop');
        const themeToggleMobile = document.getElementById('theme-toggle-mobile');
        const sunIcons = [document.getElementById('theme-icon-sun-desktop'), document.getElementById('theme-icon-sun-mobile')];
        const moonIcons = [document.getElementById('theme-icon-moon-desktop'), document.getElementById('theme-icon-moon-mobile')];

        // Function to apply theme
        function applyTheme(isDark) {
            if (isDark) {
                document.documentElement.classList.add('dark');
                sunIcons.forEach(icon => icon.classList.remove('hidden'));
                moonIcons.forEach(icon => icon.classList.add('hidden'));
                localStorage.setItem('theme', 'dark');
            } else {
                document.documentElement.classList.remove('dark');
                sunIcons.forEach(icon => icon.classList.add('hidden'));
                moonIcons.forEach(icon => icon.classList.remove('hidden'));
                localStorage.setItem('theme', 'light');
            }
            // Re-render icons to apply new colors if needed
            // Use a small timeout to ensure icons are in the DOM
            setTimeout(() => lucide.createIcons(), 0);
        }

        // Check for saved theme or system preference
        const savedTheme = localStorage.getItem('theme');
        const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (savedTheme === 'dark' || (!savedTheme && systemPrefersDark)) {
            applyTheme(true);
        } else {
            applyTheme(false);
        }
        
        // Add smooth scrolling
        document.documentElement.classList.add('scroll-smooth');

        // Add click listeners
        function toggleTheme() {
            const isDark = document.documentElement.classList.contains('dark');
            applyTheme(!isDark);
        }

        if (themeToggleDesktop) themeToggleDesktop.addEventListener('click', toggleTheme);
        if (themeToggleMobile) themeToggleMobile.addEventListener('click', toggleTheme);
        // --- END THEME LOGIC ---


        // --- 2. MOBILE MENU ---
        const menuBtn = document.getElementById('menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const menuIconOpen = document.getElementById('menu-icon-open');
        const menuIconClose = document.getElementById('menu-icon-close');
        
        if (menuBtn) {
            menuBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
                menuIconOpen.classList.toggle('hidden');
                menuIconClose.classList.toggle('hidden');
            });
        }

        // Close menu on link click
        document.querySelectorAll('#mobile-menu a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.add('hidden');
                menuIconOpen.classList.remove('hidden');
                menuIconClose.classList.add('hidden');
            });
        });

        // --- 2.5 NAV SCROLLSPY (Active Underline) ---
        const desktopNavLinks = document.querySelectorAll('#desktop-nav-links .nav-link');
        const mobileNavLinks = document.querySelectorAll('#mobile-nav-links .nav-link-mobile');
        const sections = document.querySelectorAll('section[id]');

        const observerOptions = {
            root: null, // viewport
            rootMargin: '-40% 0px -40% 0px', // Wider margin for smoother transition
            threshold: 0 // As soon as it hits the center line
        };

        const observerCallback = (entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const id = entry.target.getAttribute('id');
                    const activeDesktopLink = document.querySelector(`#desktop-nav-links a[href="#${id}"]`);
                    const activeMobileLink = document.querySelector(`#mobile-nav-links a[href="#${id}"]`);
                    
                    desktopNavLinks.forEach(link => link.classList.remove('nav-active'));
                    mobileNavLinks.forEach(link => link.classList.remove('nav-active'));
                    
                    if (activeDesktopLink) activeDesktopLink.classList.add('nav-active');
                    if (activeMobileLink) activeMobileLink.classList.add('nav-active');
                }
            });
        };

        const scrollObserver = new IntersectionObserver(observerCallback, observerOptions);
        sections.forEach(section => scrollObserver.observe(section));

        window.addEventListener('load', () => {
            setTimeout(() => {
                let activeSectionId = 'STATUS'; // Default
                
                if (window.location.hash && document.querySelector(window.location.hash)) {
                     activeSectionId = window.location.hash.substring(1);
                } 
                else if (window.scrollY === 0) {
                     activeSectionId = 'STATUS';
                } else {
                    for (let section of sections) {
                        const rect = section.getBoundingClientRect();
                        if (rect.top >= 0 && rect.top < window.innerHeight / 2) {
                            activeSectionId = section.id;
                            break;
                        }
                    }
                }

                const activeDesktopLink = document.querySelector(`#desktop-nav-links a[href="#${activeSectionId}"]`);
                const activeMobileLink = document.querySelector(`#mobile-nav-links a[href="#${activeSectionId}"]`);

                desktopNavLinks.forEach(link => link.classList.remove('nav-active'));
                mobileNavLinks.forEach(link => link.classList.remove('nav-active'));
                
                if (activeDesktopLink) activeDesktopLink.classList.add('nav-active');
                if (activeMobileLink) activeMobileLink.classList.add('nav-active');

            }, 100);
        });


        // --- 3. TYPING EFFECT ---
        const typingRoles = ["Hacker", "Bug Bounty Hunter", "CTF Player", "Pentester", "Security Researcher", "Critical Thinker"];
        let roleIndex = 0;
        let charIndex = 0;
        let isDeleting = false;
        const typingElement = document.getElementById('typing-text');

        function type() {
            if (!typingElement) return;
            const currentRole = typingRoles[roleIndex];
            let typeSpeed = isDeleting ? 50 : 100;
            
            if (isDeleting) {
                typingElement.textContent = currentRole.substring(0, charIndex - 1);
                charIndex--;
            } else {
                typingElement.textContent = currentRole.substring(0, charIndex + 1);
                charIndex++;
            }

            if (!isDeleting && charIndex === currentRole.length) {
                isDeleting = true;
                typeSpeed = 2000; // Pause at end
            } else if (isDeleting && charIndex === 0) {
                isDeleting = false;
                roleIndex = (roleIndex + 1) % typingRoles.length;
                typeSpeed = 500; // Pause before new word
            }
            
            setTimeout(type, typeSpeed);
        }
        setTimeout(type, 4000); // Start after preloader finishes

        // --- 4. STATS COUNTER ---
        function animateValue(obj, start, end, duration, suffix = '') {
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                const value = Math.floor(progress * (end - start) + start);
                obj.innerHTML = value + suffix;
                if (progress < 1) {
                    window.requestAnimationFrame(step);
                }
            };
            window.requestAnimationFrame(step);
        }

        const profileSection = document.getElementById('PROFILE');
        let statsAnimated = false;
        const statsObserver = new IntersectionObserver((entries) => {
            if (entries[0].isIntersecting && !statsAnimated) {
                animateValue(document.getElementById('count-vuln'), 0, 150, 2000, '+');
                animateValue(document.getElementById('count-client'), 0, 40, 2000, '+');
                animateValue(document.getElementById('count-rate'), 0, 99, 2000, '%');
                statsAnimated = true;
                statsObserver.disconnect();
            }
        }, { threshold: 0.1 });
        
        if (profileSection) {
            statsObserver.observe(profileSection);
        }

        // --- 5. MODAL DATA STORE ---
        const modalDetails = {
            "about-me-full": { 
                title: "About Asanul Hoque Esan", 
                content: `
                    <!-- MODIFIED: Light/dark text classes -->
                    <div class='space-y-4 text-light-textMain dark:text-textMain/90'>
                        <p class='text-lg'>Hello! I'm Asanul Hoque Esan, a dedicated cybersecurity professional driven by a deep-seated passion for digital defense. My journey into technology wasn't just a career choice; it was a calling.</p>
                        
                        <h4 class='text-xl font-bold text-light-secondary dark:text-secondary pt-2'>My Philosophy</h4>
                        <p>I operate on a simple philosophy: "Think like an adversary, defend as a guardian." This dual perspective allows me to anticipate threats and build resilient systems. I don't just look for vulnerabilities; I seek to understand the "why" behind themthe design flaw, the human error, the business pressureto provide holistic and sustainable security solutions.</p>
                        
                        <h4 class='text-xl font-bold text-light-secondary dark:text-secondary pt-2'>What I Do</h4>
                        <p>My expertise spans the full spectrum of offensive security. On any given day, you might find me:</p>
                        <ul class='list-disc list-inside pl-4 text-light-textMuted dark:text-textMuted'>
                            <li>Reverse-engineering malware to understand its payload and C2 infrastructure.</li>
                            <li>Simulating multi-stage attacks (Red Teaming) to test an organization's detection and response.</li>
                            <li>Auditing cloud infrastructure on AWS and Azure for IAM misconfigurations and insecure services.</li>
                            <li>Performing deep-dive web application tests, hunting for everything from simple XSS to complex business logic flaws.</li>
                        </ul>
                        
                        <h4 class='text-xl font-bold text-light-secondary dark:text-secondary pt-2'>Beyond the Terminal</h4>
                        <p>When I'm not in front of a screen, I'm an active member of the cybersecurity community. I believe in the power of shared knowledge, which is why I frequently contribute to open-source projects, write blog posts on new attack vectors, and mentor aspiring security professionals.</p>
                        <p>I'm also an avid CTF player (you'll find me on HackTheBox and TryHackMe) and a lifelong learner. The threat landscape never sleeps, and neither does my desire to learn and adapt.</p>
                        
                        <h4 class='text-xl font-bold text-light-secondary dark:text-secondary pt-2'>Let's Connect</h4>
                        <p>I'm always open to discussing new challenges, collaborating on projects, or simply talking about the latest trends in security. Feel free to reach out via LinkedIn.</p>
                    </div>
                `, 
                link: "https://www.linkedin.com/in/asanul-h-esan"
            },
            "tool-burp": { title: "Burp Suite", content: "The industry-standard tool for web application security testing. Used for mapping, scanning, and exploiting vulnerabilities.", link: "https://portswigger.net/burp" },
            "tool-nmap": { title: "Nmap", content: "Network Mapper is a free and open-source utility for network discovery and security auditing.", link: "https://nmap.org" },
            "tool-metasploit": { title: "Metasploit", content: "A powerful penetration testing framework that makes hacking simple. Used for developing and executing exploit code.", link: "https://www.metasploit.com/" },
            "tool-wireshark": { title: "Wireshark", content: "The world's foremost network protocol analyzer. It lets you see what's happening on your network at a microscopic level.", link: "https://www.wireshark.org/" },
            "tool-jtr": { title: "John the Ripper", content: "A fast password cracker, currently available for many flavors of Unix, Windows, DOS, and OpenVMS.", link: "https://www.openwall.com/john/" },
            "tool-hashcat": { title: "Hashcat", content: "The world's fastest and most advanced password recovery utility.", link: "https://hashcat.net/hashcat/" },
            "tool-ghidra": { title: "Ghidra", content: "A software reverse engineering (SRE) framework developed by the NSA's Research Directorate.", link: "https://ghidra-sre.org/" },
            "tool-sqlmap": { title: "SQLMap", content: "An open source penetration testing tool that automates the process of detecting and exploiting SQL injection flaws.", link: "https://sqlmap.org/" },
            "tool-aircrack": { title: "Aircrack-ng", content: "A complete suite of tools to assess WiFi network security.", link: "https://www.aircrack-ng.org/" },
            "tool-nessus": { title: "Nessus", content: "A proprietary vulnerability scanner developed by Tenable, Inc.", link: "https://www.tenable.com/products/nessus" },
            "tool-zap": { title: "OWASP ZAP", content: "The Zed Attack Proxy (ZAP) is an easy-to-use integrated penetration testing tool for finding vulnerabilities in web applications.", link: "https://www.zaproxy.org/" },
            "tool-netcat": { title: "Netcat", content: "A networking utility for reading from and writing to network connections using TCP or UDP.", link: "https://nmap.org/ncat/" },
            "tool-gobuster": { title: "Gobuster", content: "A tool used to brute-force URIs (directories and files), DNS subdomains, and virtual host names.", link: "https://github.com/OJ/gobuster" },
            "tool-hydra": { title: "Hydra", content: "A parallelized network logon cracker which supports numerous protocols to attack.", link: "https://github.com/vanhauser-thc/thc-hydra" },
            "vuln-sql": { title: "SQL Injection (SQLi)", content: "A web security vulnerability that allows an attacker to interfere with the queries that an application makes to its database.", link: "https://portswigger.net/web-security/sql-injection" },
            "vuln-xss": { title: "Cross-Site Scripting (XSS)", content: "A vulnerability that allows attackers to inject client-side scripts into web pages viewed by other users.", link: "https://owasp.org/www-community/attacks/Cross_Site_Scripting_(XSS)" },
            "vuln-rce": { title: "Remote Code Execution (RCE)", content: "A critical vulnerability that allows an attacker to execute arbitrary commands on the target server.", link: "https://owasp.org/www-project-top-ten/2017/A1_2017-Injection" },
            "vuln-csrf": { title: "Cross-Site Request Forgery (CSRF)", content: "An attack that forces an end user to execute unwanted actions on a web application in which they're currently authenticated.", link: "https://portswigger.net/web-security/csrf" },
            "vuln-ssrf": { title: "Server-Side Request Forgery (SSRF)", content: "A vulnerability that allows an attacker to induce the server-side application to make requests to an unintended location.", link: "https://portswigger.net/web-security/ssrf" },
            "vuln-lfi": { title: "LFI/RFI", content: "Local File Inclusion (LFI) and Remote File Inclusion (RFI) allow an attacker to include files on a server through the web browser.", link: "https://owasp.org/www-project-top-ten/2017/A1_2017-Injection" },
            "vuln-path": { title: "Path Traversal", content: "Allows an attacker to access files and directories stored outside the web root folder by manipulating variables with 'dot-dot-slash' sequences.", link: "https://portswigger.net/web-security/file-path-traversal" },
            "vuln-deserial": { title: "Insecure Deserialization", content: "Leads to remote code execution when an application deserializes untrusted data without sufficient validation.", link: "https://owasp.org/www-project-top-ten/2017/A8_2017-Insecure_Deserialization" },
            "vuln-bac": { title: "Broken Access Control", content: "Occurs when restrictions on what authenticated users are allowed to do are not properly enforced.", link: "https://owasp.org/www-project-top-ten/2021/A01_2021-Broken_Access_Control" },
            "vuln-idor": { title: "Insecure Direct Object References (IDOR)", content: "A type of access control vulnerability where an application uses user-supplied input to access objects directly.", link: "https://portswigger.net/web-security/access-control/idor" },
            "vuln-xxe": { title: "XML External Entity (XXE)", content: "A vulnerability that allows an attacker to interfere with an application's processing of XML data.", link: "https://portswigger.net/web-security/xxe" },
            "vuln-cmd": { title: "Command Injection", content: "Allows attackers to execute arbitrary commands on the host operating system via a vulnerable application.", link: "https://portswigger.net/web-security/command-injection" },
            "vuln-oast": { title: "Out-of-Band Application Security Testing (OAST)", content: "A technique for finding vulnerabilities using an external service to monitor for resulting network interactions.", link: "https://portswigger.net/burp/oast" },
            "platform-hackerone": { title: "HackerOne", content: "Achieved 'Top 1%' rank by consistently reporting high-impact vulnerabilities for multiple enterprise clients.", link: "https://hackerone.com/asanul_h_esan" },
            "platform-bugcrowd": { title: "Bugcrowd", content: "Ranked in the 'Top 50' globally. Recognized for contributions to various public and private bug bounty programs.", link: "https://bugcrowd.com/asanul_h_esan" },
            "platform-htb": { title: "HackTheBox", content: "Achieved 'Pro Hacker' and 'Guru' ranks. Regularly solve 'Insane' rated machines and challenges.", link: "https://app.hackthebox.com/profile/12345" },
            "platform-thm": { title: "TryHackMe", content: "Consistently in the 'Top 1%' of users. Completed over 200 rooms and various learning paths.", link: "https://tryhackme.com/p/asanul" },
            "platform-portswigger": { title: "PortSwigger", content: "Completed the Web Security Academy and hold the Burp Suite Certified Practitioner (BSCP) certification.", link: "https://portswigger.net/web-security" },
            "platform-generic": { title: "Platform Details", content: "This is a placeholder for one of the 45 other platforms. The real site would show specific achievements for this platform.", link: "#" },
            "cert-oscp": { title: "OSCP - Offensive Security Certified Professional", content: "A rigorous certification that proves hands-on penetration testing skills. Requires compromising a 24-hour exam network.", link: "https://www.offensive-security.com/pwk-oscp/" },
            "cert-ceh": { title: "CEH (Practical)", content: "A hands-on exam that requires demonstrating skills and techniques in ethical hacking.", link: "https://www.eccouncil.org/train-certify/certified-ethical-hacker-ceh-practical/" },
            "cert-ejpt": { title: "eJPT - eLearnSecurity Junior Penetration Tester", content: "A 100% practical certification on penetration testing and information security fundamentals.", link: "https://elearnsecurity.com/product/ejpt-certification/" },
            "cert-secplus": { title: "CompTIA Security+", content: "A global certification that validates the baseline skills necessary to perform core security functions.", link: "https://www.comptia.org/certifications/security" },
            "exp-web": { title: "Web Application Pentesting", content: "Deep expertise in finding and exploiting common (OWASP Top 10) and complex vulnerabilities like SQLi, XSS, RCE, SSRF, and business logic flaws.", link: "https://owasp.org/www-project-top-ten/" },
            "exp-net": { title: "Network Security", content: "Proficient in network mapping (Nmap), vulnerability scanning (Nessus), and exploiting network-level misconfigurations.", link: "https://www.sans.org/cyber-security-courses/network-penetration-testing-ethical-hacking/" },
            "exp-cloud": { title: "Cloud Security (AWS/Azure)", content: "Experience in auditing cloud environments, identifying misconfigured S3 buckets, IAM role vulnerabilities, and insecure serverless functions.", link: "https://aws.amazon.com/security/" },
            "exp-mobile": { title: "Mobile (Android/iOS)", content: "Skilled in mobile application penetration testing, including static/dynamic analysis, reverse engineering, and bypassing SSL pinning.", link: "https://owasp.org/www-project-mobile-top-10/" },
        };

        // --- 6. MARQUEE INJECTION & CLICK ---
        const marqueeData = {
            tools: [
                { id: "tool-burp", text: "Burp Suite", icon: "bug" }, 
                { id: "tool-nmap", text: "Nmap", icon: "scan" }, 
                { id: "tool-metasploit", text: "Metasploit", icon: "rocket" },
                { id: "tool-wireshark", text: "Wireshark", icon: "wifi" }, 
                { id: "tool-jtr", text: "John the Ripper", icon: "key" }, 
                { id: "tool-hashcat", text: "Hashcat", icon: "hash" }, 
                { id: "tool-ghidra", text: "Ghidra", icon: "cpu" }, 
                { id: "tool-sqlmap", text: "SQLMap", icon: "database" }, 
                { id: "tool-aircrack", text: "Aircrack-ng", icon: "antenna" }, 
                { id: "tool-nessus", text: "Nessus", icon: "shield-alert" }, 
                { id: "tool-zap", text: "Zap", icon: "zap" }, 
                { id: "tool-netcat", text: "Netcat", icon: "cat" }, 
                { id: "tool-gobuster", text: "Gobuster", icon: "search" }, 
                { id: "tool-hydra", text: "Hydra", icon: "lock" }
            ],
            vulns: [
                { id: "vuln-sql", text: "SQL Injection", icon: "database" }, 
                { id: "vuln-xss", text: "XSS", icon: "code" }, 
                { id: "vuln-rce", text: "RCE", icon: "terminal" },
                { id: "vuln-csrf", text: "CSRF", icon: "refresh-cw" }, 
                { id: "vuln-ssrf", text: "SSRF", icon: "server" }, 
                { id: "vuln-lfi", text: "LFI/RFI", icon: "file-input" }, 
                { id: "vuln-path", text: "Path Traversal", icon: "folder-git-2" }, 
                { id: "vuln-deserial", text: "Insecure Deserialization", icon: "package" }, 
                { id: "vuln-bac", text: "Broken Access Control", icon: "user-x" }, 
                { id: "vuln-idor", text: "IDOR", icon: "user-check" }, 
                { id: "vuln-xxe", text: "XXE", icon: "file-code" }, 
                { id: "vuln-cmd", text: "Command Injection", icon: "terminal-square" }, 
                { id: "vuln-oast", text: "OAST", icon: "radio-receiver" }
            ],
            reports: [
                { id: "report-rce", title: "Critical RCE in [Banking App]", icon: "file-text", content: "Discovered a Remote Code Execution vulnerability... (details)", link: "https://example.com/report/1" },
                { id: "report-ssrf", title: "SSRF on [Cloud Provider]", icon: "file-text", content: "Found an SSRF vulnerability... (details)", link: "https://example.com/report/2" },
                { id: "report-auth", title: "Auth Bypass in [E-commerce]", icon: "file-text", content: "Bypassed authentication... (details)", link: "https://example.com/report/3" },
                { id: "report-idor", title: "IDOR leaking [PII Data]", icon: "file-text", content: "Identified an IDOR... (details)" },
                { id: "report-sqli", title: "SQLi in [Govt Portal]", icon: "file-text", content: "Exploited an SQL injection... (details)" },
            ]
        };

        function createMarqueeItem(item, colorClass, darkColorClass) {
            const div = document.createElement('div');
            // MODIFIED: Light/dark classes
            div.className = `marquee-item flex-shrink-0 flex items-center gap-2 px-6 py-3 border border-gray-300 dark:border-white/10 rounded-full bg-light-card dark:bg-card text-sm font-mono text-light-textMain dark:text-textMain whitespace-nowrap cursor-pointer hover:border-light-primary dark:hover:border-primary`;
            
            let innerHTML = '';
            if (item.icon) {
                // MODIFIED: Light/dark color classes
                innerHTML += `<i data-lucide="${item.icon}" class="w-4 h-4 ${colorClass} dark:${darkColorClass}"></i>`;
            }
            innerHTML += `<span>${item.text || item.title}</span>`;
            
            div.innerHTML = innerHTML;

            if (item.id && (modalDetails[item.id] || item.content)) {
                div.setAttribute('data-modal-target', item.id);
            }
            return div;
        }

        function populateMarquee(containerId, data, count = 50, iconColorClass, darkIconColorClass) {
            const container = document.getElementById(containerId);
            if (!container) {
                console.error(`Marquee container with id "${containerId}" not found.`);
                return; 
            }
            container.innerHTML = ''; // Prevent duplication
            let items = [];
            for (let i = 0; i < count; i++) {
                items.push(data[i % data.length]);
            }
            
            [...items, ...items].forEach((item) => {
                container.appendChild(createMarqueeItem(item, iconColorClass, darkIconColorClass)); // Pass light/dark colors
            });
            lucide.createIcons(); // Re-render icons
        }

        // MODIFIED: Call populateMarquee with light AND dark icon colors
        populateMarquee('tools-marquee', marqueeData.tools, 50, 'text-light-secondary', 'text-secondary');
        populateMarquee('vuln-marquee', marqueeData.vulns, 50, 'text-light-primary', 'text-primary');
        populateMarquee('reports-marquee', marqueeData.reports, 20, 'text-light-textMuted', 'text-textMuted');

        // --- 7. EXPERTISE GRID INJECTION ---
        const expertiseGrid = document.getElementById('expertise-grid');
        const expertiseData = [
            { id: "exp-web", icon: "globe", title: "Web Pentesting", desc: "OWASP Top 10, logic flaws, API testing." },
            { id: "exp-net", icon: "network", title: "Network Security", desc: "Internal/External testing, Nmap, Nessus." },
            { id: "exp-cloud", icon: "cloud", title: "Cloud Security", desc: "AWS, Azure, GCP misconfigurations." },
            { id: "exp-mobile", icon: "smartphone", title: "Mobile Pentesting", desc: "Android, iOS, static/dynamic analysis." }
        ];

        if (expertiseGrid) {
            expertiseData.forEach(item => {
                const card = document.createElement('div');
                // MODIFIED: Light/dark classes
                card.className = "p-6 rounded-lg border border-gray-200 dark:border-white/10 bg-light-card dark:bg-card transition-all duration-300 hover:!scale-105 hover:border-light-secondary/50 dark:hover:border-secondary/50 cursor-pointer shadow-lg";
                card.setAttribute('data-modal-target', item.id);
                card.innerHTML = `
                    <i data-lucide="${item.icon}" class="text-light-secondary dark:text-secondary mb-3 w-8 h-8"></i>
                    <h3 class="font-bold text-light-textMain dark:text-white text-lg">${item.title}</h3>
                    <p class="text-xs text-light-textMuted dark:text-textMuted mt-2">${item.desc}</p>
                `;
                expertiseGrid.appendChild(card);
            });
            lucide.createIcons(); // Render icons for expertise grid
        }

        // --- 7.5 PLATFORM ACCOMPLISHMENTS LOGIC ---
        const platformToggleBtn = document.getElementById('platform-toggle-btn');
        const morePlatformsGrid = document.getElementById('more-platforms-grid');

        if (platformToggleBtn && morePlatformsGrid) {
            const mockPlatformsData = Array.from({ length: 45 }, (_, i) => ({
                name: `Other Platform ${i + 1}`,
                rank: `Rank ${Math.floor(Math.random() * 500) + 1}`,
                icon: i % 3 === 0 ? 'code' : (i % 3 === 1 ? 'shield-check' : 'server')
            }));

            let isLoaded = false; // Flag to check if platforms are already loaded

            platformToggleBtn.addEventListener('click', () => {
                const state = platformToggleBtn.getAttribute('data-state');

                if (state === 'more') {
                    if (!isLoaded) {
                        mockPlatformsData.forEach(platform => {
                            const card = document.createElement('a');
                            card.setAttribute('data-modal-target', 'platform-generic');
                            // MODIFIED: Light/dark classes
                            card.className = "p-6 bg-light-card dark:bg-bg border border-gray-200 dark:border-white/10 rounded-xl text-center hover:border-light-primary/50 dark:hover:border-primary/50 hover:-translate-y-2 transition-all duration-300 shadow-lg h-full cursor-pointer";
                            
                            card.innerHTML = `
                                <i data-lucide="${platform.icon}" class="w-10 h-10 text-light-textMuted dark:text-textMuted mx-auto mb-4"></i>
                                <h3 class="font-bold text-light-textMain dark:text-white text-lg">${platform.name}</h3>
                                <p class="text-light-secondary dark:text-secondary text-sm font-mono mt-1">${platform.rank}</p>
                            `;
                            morePlatformsGrid.appendChild(card);
                        });
                        lucide.createIcons();
                        isLoaded = true;
                    }
                    morePlatformsGrid.classList.remove('hidden');
                    platformToggleBtn.setAttribute('data-state', 'less');
                    platformToggleBtn.innerText = "See Less";

                } else if (state === 'less') {
                    morePlatformsGrid.classList.add('hidden');
                    platformToggleBtn.setAttribute('data-state', 'more');
                    platformToggleBtn.innerText = "See More (45+)";
                }
            });
        }


        // --- 8. MODAL LOGIC ---
        const modalContainer = document.getElementById('modal-container');
        const modalTitle = document.getElementById('modal-title');
        const modalContent = document.getElementById('modal-content');
        const modalLink = document.getElementById('modal-link');
        const modalPagination = document.getElementById('modal-pagination');
        const modalCloseBtn = document.getElementById('modal-close-btn');
        const modalOverlay = document.getElementById('modal-overlay');

        function openModal(title, content, link = null) {
            modalTitle.innerText = title;
            modalContent.innerHTML = content;
            modalPagination.classList.add('hidden');

            if (link) {
                modalLink.href = link;
                modalLink.classList.remove('hidden');
                if (link.includes('linkedin.com')) {
                    modalLink.innerHTML = 'View LinkedIn Profile';
                } else {
                    modalLink.innerHTML = 'Learn More';
                }
            } else {
                modalLink.classList.add('hidden');
            }
            modalContainer.classList.remove('hidden');
            lucide.createIcons(); 
        }

        function closeModal() {
            modalContainer.classList.add('hidden');
            modalContent.innerHTML = '';
        }

        modalCloseBtn.addEventListener('click', closeModal);
        modalOverlay.addEventListener('click', closeModal);

        document.body.addEventListener('click', function(e) {
            const target = e.target.closest('[data-modal-target]');
            if (target) {
                const targetId = target.getAttribute('data-modal-target');
                let details;

                if (targetId.startsWith('report-')) {
                    const report = marqueeData.reports.find(r => r.id === targetId);
                    if (report) {
                        details = { title: report.title, content: `<p>${report.content}</p>`, link: report.link };
                    }
                } 
                else if (modalDetails[targetId]) {
                    details = modalDetails[targetId];
                }

                if (details) {
                    if (targetId === "about-me-full") {
                        openModal(details.title, details.content, details.link);
                    } else {
                        openModal(details.title, `<p>${details.content}</p>`, details.link);
                    }
                }
            }
        });

        // --- 9. SPECIAL MODALS (CERTS & LOGS) ---
        
        const seeAllCertsBtn = document.getElementById('see-all-certs-btn');
        if (seeAllCertsBtn) {
            seeAllCertsBtn.addEventListener('click', () => {
                const allCertsData = [
                    { id: "cert-oscp", icon: "award", title: "OSCP", org: "Offensive Security" },
                    { id: "cert-ceh", icon: "award", title: "CEH (Practical)", org: "EC-Council" },
                    { id: "cert-ejpt", icon: "award", title: "eJPT", org: "eLearnSecurity" },
                    { id: "cert-secplus", icon: "award", title: "Security+", org: "CompTIA" },
                    { id: "cert-gpen", icon: "award", title: "GPEN", org: "GIAC" },
                    { id: "cert-pnpt", icon: "award", title: "PNPT", org: "TCM Security" },
                    { id: "cert-cissp", icon: "award", title: "CISSP", org: "ISC" },
                    { id: "cert-aws", icon: "cloud", title: "AWS Cloud Practitioner", org: "Amazon" },
                ];

                let certsGridHtml = '<div class="grid grid-cols-2 md:grid-cols-3 gap-4">';
                allCertsData.forEach(cert => {
                    // MODIFIED: Light/dark classes
                    certsGridHtml += `
                        <div data-modal-target="${cert.id}" class="p-4 rounded-lg border border-gray-200 dark:border-white/10 bg-light-bg dark:bg-bg transition-all hover:border-light-secondary dark:hover:border-secondary cursor-pointer">
                            <i data-lucide="${cert.icon}" class="text-light-secondary dark:text-secondary mb-2 w-6 h-6"></i>
                            <h3 class="font-bold text-light-textMain dark:text-white text-sm">${cert.title}</h3>
                            <p class="text-xs text-light-textMuted dark:text-textMuted mt-1">${cert.org}</p>
                        </div>
                    `;
                });
                certsGridHtml += '</div>';
                
                openModal("All Certifications (40+)", certsGridHtml);
            });
        }

        const seeAllLogsBtn = document.getElementById('see-all-logs-btn');
        if (seeAllLogsBtn) {
            const allLogs = Array.from({ length: 100 }, (_, i) => ({
                time: `2025-11-${17 - (i % 3)} ${10 - (i % 4)}:${30 + i}`,
                action: i % 3 === 0 ? "Vulnerability Found" : (i % 3 === 1 ? "CTF Completed" : "System Audit"),
                target: i % 3 === 0 ? "Client " + String.fromCharCode(65 + (i%5)) : (i % 3 === 1 ? "HackTheBox" : "Internal"),
                status: i % 3 === 0 ? "CRITICAL" : (i % 3 === 1 ? "SOLVED" : "SECURE")
            }));
            const logsPerPage = 10;
            let currentPage = 1;
            const totalPages = Math.ceil(allLogs.length / logsPerPage);

            function showLogsPage(page) {
                currentPage = page;
                const start = (page - 1) * logsPerPage;
                const end = start + logsPerPage;
                const pageLogs = allLogs.slice(start, end);

                let logsHtml = `
                    <table class="w-full text-left text-sm text-light-textMuted dark:text-textMuted">
                        <thead class="bg-gray-100 dark:bg-card text-xs uppercase font-mono text-light-primary dark:text-primary">
                            <tr><th class="px-6 py-4">Timestamp</th><th class="px-6 py-4">Action</th><th class="px-6 py-4">Status</th></tr>
                        </thead>
                        <tbody class="divide-y divide-gray-200 dark:divide-white/5 font-mono">
                `;
                pageLogs.forEach(log => {
                    logsHtml += `<tr class="hover:bg-gray-50 dark:hover:bg-white/5"><td class="px-6 py-4">${log.time}</td><td class="px-6 py-4 text-light-textMain dark:text-white">${log.action}</td><td class="px-6 py-4 text-right"><span classs="px-2 py-1 bg-light-primary/10 dark:bg-primary/20 text-light-primary dark:text-primary rounded text-xs">${log.status}</span></td></tr>`;
                });
                logsHtml += `</tbody></table>`;
                
                modalContent.innerHTML = logsHtml;
                document.getElementById('log-page-info').innerText = `Page ${currentPage} of ${totalPages}`;
                document.getElementById('log-prev-btn').disabled = currentPage === 1;
                document.getElementById('log-next-btn').disabled = currentPage === totalPages;
            }

            seeAllLogsBtn.addEventListener('click', () => {
                openModal("Full Access Log", ""); 
                modalLink.classList.add('hidden');
                modalPagination.classList.remove('hidden');
                showLogsPage(1);
            });

            document.getElementById('log-next-btn').addEventListener('click', () => {
                if (currentPage < totalPages) showLogsPage(currentPage + 1);
            });
            document.getElementById('log-prev-btn').addEventListener('click', () => {
                if (currentPage > 1) showLogsPage(currentPage - 1);
            });
        }


        // --- 10. ENCRYPTION TOOL LOGIC ---
        const algos = ["Base64", "Hex", "URL", "ROT13", "Reverse", "AES-256 (Mock)", "MD5 (Mock)", "SHA-256 (Mock)", "Binary (Mock)", "Morse (Mock)", "Caesar (Mock)", "Vigenre (Mock)", "Atbash", "Bcrypt (Mock)", "JWT Decode (Mock)", "XOR (Mock)", "Rabbit (Mock)", "TripleDES (Mock)", "RC4 (Mock)"];
        let currentAlgo = "Base64";
        const algoList = document.getElementById('algo-list');
        const currentAlgoName = document.getElementById('current-algo-name');
        
        if (algoList) {
            algos.forEach(algo => {
                const btn = document.createElement('button');
                // MODIFIED: Light/dark classes
                btn.className = `w-full text-left px-4 py-3 rounded-lg text-sm transition-all flex justify-between items-center ${algo === currentAlgo ? 'bg-light-primary/10 dark:bg-primary/10 text-light-primary dark:text-primary border border-light-primary/30 dark:border-primary/30' : 'text-light-textMuted dark:text-textMuted hover:bg-black/5 dark:hover:bg-white/5'}`;
                btn.innerText = algo;
                btn.onclick = () => {
                    currentAlgo = algo;
                    currentAlgoName.innerText = algo;
                    Array.from(algoList.children).forEach(c => {
                        if (c.tagName === 'BUTTON') {
                            c.className = `w-full text-left px-4 py-3 rounded-lg text-sm transition-all flex justify-between items-center ${c.innerText === algo ? 'bg-light-primary/10 dark:bg-primary/10 text-light-primary dark:text-primary border border-light-primary/30 dark:border-primary/30' : 'text-light-textMuted dark:text-textMuted hover:bg-black/5 dark:hover:bg-white/5'}`;
                        }
                    });
                };
                algoList.appendChild(btn);
            });
        }

        function processCrypto(isDecrypt = false) {
            const input = document.getElementById('crypto-input').value;
            const outputEl = document.getElementById('crypto-output');
            const successEl = document.getElementById('success-msg');
            if (!input) {
                outputEl.value = "Error: Input is empty.";
                return;
            }
            
            let output = "";
            try {
                switch(currentAlgo) {
                    case "Base64":
                        output = isDecrypt ? atob(input) : btoa(input);
                        break;
                    case "Hex":
                        if (isDecrypt) {
                            output = input.split(' ').map(hex => String.fromCharCode(parseInt(hex, 16))).join('');
                        } else {
                            output = input.split('').map(c => c.charCodeAt(0).toString(16).padStart(2, '0')).join(' ');
                        }
                        break;
                    case "URL":
                        output = isDecrypt ? decodeURIComponent(input) : encodeURIComponent(input);
                        break;
                    case "ROT13":
                        output = input.replace(/[a-zA-Z]/g, c => String.fromCharCode(c.charCodeAt(0) + (c.toLowerCase() <= 'm' ? 13 : -13)));
                        break;
                    case "Reverse":
                        output = input.split('').reverse().join('');
                        break;
                    case "Atbash":
                         output = input.split('').map(c => {
                            const code = c.charCodeAt(0);
                            if (code >= 65 && code <= 90) return String.fromCharCode(90 - (code - 65));
                            if (code >= 97 && code <= 122) return String.fromCharCode(122 - (code - 97));
                            return c;
                        }).join('');
                        break;
                    default:
                        output = `[${isDecrypt ? 'DECRYPT' : 'ENCRYPT'} MOCK for ${currentAlgo}]: ${input.split('').reverse().join('')}`;
                }
                outputEl.value = output;
                successEl.classList.remove('hidden');
                setTimeout(() => successEl.classList.add('hidden'), 2000);
            } catch (e) {
                outputEl.value = `Error: ${e.message}. Invalid input for ${isDecrypt ? 'decryption' : 'encryption'}.`;
            }
        }

        function copyOutput() {
            const copyText = document.getElementById("crypto-output");
            if (!copyText.value) return;
            copyText.select();
            document.execCommand('copy'); 
            alert("Copied to clipboard!");
        }

        window.addEventListener('resize', debounce(lucide.createIcons, 250));
    </script>
</body>
</html>
